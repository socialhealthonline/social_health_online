%br
.container
  .d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-top.mb-3.border-bottom
    %h1.h3.brand-primary Announcements
    %div
      = link_to new_manage_announcement_path, class: 'btn btn-primary' do
        %i.fas.fa-plus-circle
        Add Announcement

  - if @announcements.any?
    .table-responsive
      %table.table.table-borderless.table-hover
        %thead
          %tr
            %th Announcement Title
            %th Announcement Body
            %th Added On
            %th
        %tbody
          - @announcements.each.with_index(1) do |announcement, i|
            %tr.bg-white
              %td= link_to truncate("#{i}. #{announcement.title}"), manage_announcement_path(announcement)
              %td= truncate(announcement.body)
              %td= time_in_cdt(announcement.created_at, '%Y-%m-%d %H:%M')
              %td
                = link_to edit_manage_announcement_path(announcement), title: 'Edit', class: 'btn btn-sm btn-outline-primary' do
                  %i.far.fa-edit
                &nbsp;
                = link_to manage_announcement_path(announcement), title: 'delete announcement', id: "delete_announcement_#{announcement.id}", class: 'btn btn-sm btn-outline-danger', method: :delete, data: { confirm: 'Please confirm that you wish to delete this notification. Press OK to continue.' } do
                  %i.far.fa-trash-alt
            %tr.table-divider
    %p= paginate @announcements
  - else
    %p.text-muted
      %em No announcement were found.
%br
