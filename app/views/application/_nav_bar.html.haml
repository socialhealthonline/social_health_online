%nav.navbar.navbar-expand-lg.fixed-top.navbar-dark.bg-secondary#main-nav
  .container
    = link_to root_path, class: 'navbar-brand' do
      = image_tag 'logo.png', alt: 'Social Health Online', height: '40'
    %button.navbar-toggler(type='button' data-toggle='collapse' data-target='#navbarToggler' aria-controls='navbarToggler' aria-expanded='false' aria-label='Toggle navigation')
      %span.navbar-toggler-icon
    .collapse.navbar-collapse#navbarToggler
      %ul.navbar-nav.ml-auto
        %li.nav-item{class: "#{active_nav('about')}"}
          = link_to 'About Us', about_us_path, class: 'nav-link'
        %li.nav-item{class: "#{active_nav('service')}"}
          = link_to 'Our Service', service_path, class: 'nav-link'
        %li.nav-item{class: "#{active_nav('join')}"}
          = link_to 'Join Up', join_path, class: 'nav-link'
        %li.nav-item{class: "#{active_nav('affiliates')}"}
          = link_to 'Our Affiliates', affiliates_path, class: 'nav-link'
        %li.nav-item{class: "#{active_nav('news')}"}
          = link_to 'News', news_path, class: 'nav-link'
        %li.nav-item{class: "#{active_nav('contact')}"}
          = link_to 'Contact Us', contact_path, class: 'nav-link'
        - if authenticated_user
          %li.nav-item.dropdown
            %a.nav-link.dropdown-toggle#navbarDropdownMenuLink{href: '#', 'aria-haspopup' => true, 'aria-expanded' => false, 'data-toggle' => 'dropdown'}
              = authenticated_user.name
            .dropdown-menu.dropdown-menu-right{ 'aria-labelledby' => 'navbarDropdownMenuLink'}
              - if authenticated_user.admin?
                = link_to console_path, class: 'dropdown-item' do
                  %i.fas.fa-tachometer-alt
                  Console
              - if authenticated_user.manager?
                = link_to manage_edit_customer_path, class: 'dropdown-item' do
                  %i.fas.fa-users
                  My Community
              = link_to profile_path, class: 'dropdown-item' do
                %i.fas.fa-user-circle
                My Profile
              = link_to signout_path, method: :delete, class: 'dropdown-item', id: 'nav-signout', data: { confirm: 'Are you sure you would like to sign out? Press OK to continue.' } do
                %i.fas.fa-sign-out-alt
                Sign Out
        - else
          %li.nav-item{class: "#{active_nav('sessions')}"}
            = link_to 'Sign In', signin_path, class: 'nav-link'
